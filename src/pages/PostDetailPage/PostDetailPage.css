/* src/pages/PostDetailPage/PostDetailPage.css */

/* --- FONTES --- */
@import url('https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&family=Lato:wght@400;700&display=swap');
@import url('https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap');

/* --- VARIÁVEIS DE TEMA (RAIZ) --- */
:root {
  --font-serif: 'Merriweather', 'Georgia', serif;
  --font-sans-serif: 'Lato', 'Helvetica Neue', sans-serif;
  --font-dyslexic: 'Open Sans', sans-serif;
}

/* --- MODO FOCO --- */
body.focus-mode-active .app-header,
body.focus-mode-active .app-footer,
body.focus-mode-active .reading-tools-panel,
body.focus-mode-active .back-to-top-btn {
    display: none !important;
}

/* --- ESTRUTURA GERAL E TRANSIÇÕES --- */
.post-detail-page, .post-body-container, .author-bio-section, .related-post-card, .reading-tools-panel, .back-to-top-btn {
    transition: background-color 0.3s ease, border-color 0.3s ease;
}

.post-body, .post-body p, .post-body h2, .post-body h3, .post-body blockquote, .tools-panel-title, .tools-label, .shortcut-list, .related-posts-title, .comment-section-title {
    transition: color 0.3s ease;
}

.post-detail-page {
    background-color: var(--bg-color);
}

/* --- CABEÇALHO CINEMATOGRÁFICO --- */
.post-hero-header {
    position: relative; width: 100%; display: flex; flex-direction: column;
    justify-content: center; align-items: center; text-align: center;
    color: #fff; padding: 20px; aspect-ratio: 16 / 9;
    min-height: 350px; max-height: 75vh;
}
.post-hero-image-wrapper { position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; }
.post-hero-image { width: 100%; height: 100%; object-fit: cover; transform: scale(1.05); filter: brightness(0.6); }
.post-hero-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 50%, rgba(0,0,0,0.7) 100%); }
.post-hero-content { position: relative; z-index: 2; max-width: 800px; }
.post-hero-content .post-breadcrumb, .post-hero-content .post-breadcrumb a,
.post-hero-content .ant-breadcrumb-separator { color: rgba(255, 255, 255, 0.8) !important; }
.post-hero-content .post-breadcrumb a:hover { color: #fff !important; }
.post-hero-category { background-color: var(--link-color) !important; border-color: var(--link-color) !important; color: #fff !important; font-weight: bold; }
.post-hero-title {
    font-family: var(--font-serif); font-size: 3.2em !important; font-weight: 700 !important;
    color: #fff !important; text-shadow: 0 2px 10px rgba(0,0,0,0.5);
    margin: 10px 0 20px !important;
}
.post-hero-meta .meta-item, .post-hero-meta .author-meta-link .ant-typography { color: rgba(255, 255, 255, 0.9) !important; font-size: 0.9em; }

/* --- CORPO DO POST --- */
.post-body-container {
    background-color: var(--bg-color); position: relative; z-index: 3;
    padding: 50px 20px;
}
.post-main-content { margin: 0 auto; transition: max-width 0.3s ease; }
.width-standard .post-main-content { max-width: 800px; }
.width-narrow .post-main-content { max-width: 720px; }

.post-body { line-height: var(--line-height); color: var(--text-color); }
.font-serif .post-body { font-family: var(--font-serif); }
.font-sans-serif .post-body { font-family: var(--font-sans-serif); }
.font-dyslexic .post-body { font-family: var(--font-dyslexic); letter-spacing: 0.5px; }
.align-left .post-body { text-align: left; }
.align-justify .post-body { text-align: justify; }
.font-dyslexic .post-body { text-align: left; }

.post-body p { margin-bottom: 1.6em; }
.post-body h2, .post-body h3 { font-family: var(--font-sans-serif); margin-top: 2.2em; margin-bottom: 1.2em; font-weight: 700; line-height: 1.4; color: var(--heading-color); }
.post-body blockquote { border-left: 3px solid var(--link-color); padding-left: 1.5em; margin: 2em 0; color: var(--blockquote-color); font-style: italic; font-size: 1.1em; }
.post-body a { color: var(--link-color); text-decoration: none; font-weight: bold; box-shadow: inset 0 -2px 0 var(--link-underline-color); transition: all 0.3s ease; }
.post-body a:hover { color: var(--link-hover-color); box-shadow: inset 0 -2px 0 var(--link-hover-underline-color); }

/* --- SEÇÕES ADICIONAIS --- */
.author-bio-section, .related-posts-section, .comment-section { padding-top: 30px; margin-top: 50px; border-top: 1px solid var(--border-color); }
.author-bio-section { background-color: var(--secondary-bg-color); border: 1px solid var(--border-color); padding: 24px; border-radius: 8px; margin-top: 30px; }
.author-bio-section a, .author-bio-section .ant-typography-h4, .author-bio-section .ant-typography-secondary { color: var(--heading-color) !important; }
.author-bio-section .author-bio-label { color: var(--text-light-color) !important; }
.related-posts-title, .comment-section-title { text-align: center; margin-bottom: 30px !important; color: var(--heading-color) !important; }
.related-post-card { border: 1px solid var(--border-color); background-color: var(--secondary-bg-color); height: 100%; }
.related-post-card .ant-card-meta-title { color: var(--heading-color); }
.related-post-image-wrapper { position: relative; width: 100%; aspect-ratio: 16 / 9; overflow: hidden; }
.related-post-image-wrapper img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease-out; }
.related-post-card:hover .related-post-image-wrapper img { transform: scale(1.05); }

/* --- TEMAS DE LEITURA --- */
.theme-light { --bg-color: #ffffff; --secondary-bg-color: #fafafa; --text-color: #2b2b2b; --heading-color: #1d1d1d; --text-light-color: #8c8c8c; --link-color: #1890ff; --link-hover-color: #096dd9; --link-underline-color: rgba(24, 144, 255, 0.2); --link-hover-underline-color: rgba(9, 109, 217, 0.4); --border-color: #f0f0f0; --blockquote-color: #555; }
.theme-sepia { --bg-color: #fbf0d9; --secondary-bg-color: #f8e8c8; --text-color: #5B4636; --heading-color: #4a382b; --text-light-color: #8c7a6b; --link-color: #795548; --link-hover-color: #4E342E; --link-underline-color: rgba(121, 85, 72, 0.2); --link-hover-underline-color: rgba(78, 52, 46, 0.4); --border-color: #d7c9a9; --blockquote-color: #756553; }
.theme-slate { --bg-color: #1a202c; --secondary-bg-color: #2d3748; --text-color: #e2e8f0; --heading-color: #ffffff; --text-light-color: #a0aec0; --link-color: #63b3ed; --link-hover-color: #90cdf4; --link-underline-color: rgba(99, 179, 237, 0.2); --link-hover-underline-color: rgba(144, 205, 244, 0.4); --border-color: #4a5568; --blockquote-color: #a0aec0; }
.theme-midnight { --bg-color: #000000; --secondary-bg-color: #1a1a1a; --text-color: #e0e0e0; --heading-color: #ffffff; --text-light-color: #a0a0a0; --link-color: #00e5ff; --link-hover-color: #84ffff; --link-underline-color: rgba(0, 229, 255, 0.2); --link-hover-underline-color: rgba(132, 255, 255, 0.4); --border-color: #333333; --blockquote-color: #a0a0a0; }
.theme-high-contrast { --bg-color: #000000; --secondary-bg-color: #000000; --text-color: #ffffff; --heading-color: #ffff00; --text-light-color: #ffffff; --link-color: #00e5ff; --link-hover-color: #84ffff; --link-underline-color: #00e5ff; --link-hover-underline-color: #84ffff; --border-color: #ffffff; --blockquote-color: #ffffff; }

/* --- CORES DE TEXTO PARA TEMAS ESCUROS --- */
.theme-slate .ant-typography, .theme-slate .custom-comment-author, .theme-slate .custom-comment-content,
.theme-midnight .ant-typography, .theme-midnight .custom-comment-author, .theme-midnight .custom-comment-content,
.theme-high-contrast .ant-typography, .theme-high-contrast .custom-comment-author, .theme-high-contrast .custom-comment-content { 
    color: var(--text-color); 
}
.theme-slate .custom-comment-datetime, .theme-midnight .custom-comment-datetime, .theme-high-contrast .custom-comment-datetime { 
    color: var(--text-light-color); 
}

/* --- BOTÃO VOLTAR AO TOPO --- */
.back-to-top-btn { position: fixed; bottom: 30px; right: 30px; z-index: 99; background-color: var(--secondary-bg-color); border-color: var(--border-color); color: var(--text-color); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
.back-to-top-btn:hover { background-color: var(--bg-color); color: var(--link-color); border-color: var(--link-color); }

/* --- PAINEL DE FERRAMENTAS (CORRIGIDO E REFINADO) --- */
.reading-tools-panel {
    position: fixed; top: 50%; right: 24px; transform: translateY(-50%);
    width: 240px; background: var(--secondary-bg-color); border-radius: 12px; padding: 16px;
    box-shadow: 0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 9px 28px 8px rgba(0, 0, 0, 0.05);
    z-index: 100; border: 1px solid var(--border-color);
}
.tools-panel-title { margin: 0 0 12px !important; text-align: center; color: var(--heading-color) !important; font-family: var(--font-sans-serif); }
.tools-divider { margin: 12px 0 !important; background-color: var(--border-color); transition: background-color 0.3s ease; }
.tools-section { margin-bottom: 4px; }
.tools-label {
    display: block; margin-bottom: 8px; font-size: 0.9em;
    color: var(--text-light-color); font-weight: 500; font-family: var(--font-sans-serif);
}
.reading-tools-panel .ant-slider { margin: 4px 6px 10px; }
.theme-radio.ant-radio-wrapper {
    color: var(--text-color); transition: background-color 0.3s ease, color 0.3s ease; margin-bottom: 6px;
}
.font-family-group { display: flex; width: 100%; }
.font-family-group .ant-radio-button-wrapper {
    flex-grow: 1; text-align: center; padding: 0 8px; font-size: 13px;
}

.shortcut-help-btn {
    width: 100%; margin-top: 8px; background-color: var(--bg-color); border-color: var(--border-color);
    color: var(--text-color); transition: all 0.3s ease;
}
.shortcut-help-btn:hover {
    color: var(--link-color); border-color: var(--link-color); background-color: var(--secondary-bg-color);
}
.shortcut-list { padding-left: 0; color: var(--text-color); font-size: 14px; list-style-type: none; }
.shortcut-list li { margin-bottom: 12px; display: flex; align-items: center; gap: 10px; }
.shortcut-list .ant-typography-code {
    background-color: var(--border-color); padding: 2px 8px; border-radius: 4px;
    color: var(--heading-color); border: 1px solid var(--border-color);
}

/* --- CORES DO PAINEL PARA TEMAS ESCUROS --- */
.theme-slate .tools-label, .theme-midnight .tools-label, .theme-high-contrast .tools-label {
    color: var(--text-light-color);
}
.theme-slate .ant-radio-wrapper, .theme-midnight .ant-radio-wrapper, .theme-high-contrast .ant-radio-wrapper {
    color: var(--text-color);
}

/* --- RESPONSIVIDADE --- */
@media (max-width: 1200px) { .reading-tools-panel { display: none; } }
@media (max-width: 768px) { .post-hero-title { font-size: 2.5em !important; } }
@media (max-width: 576px) {
    .post-hero-header { min-height: 300px; }
    .post-hero-title { font-size: 1.8em !important; }
    .back-to-top-btn { bottom: 20px; right: 20px; }
}